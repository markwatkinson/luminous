<DELIMITER>&lt;?php</DELIMITER>

<COMMENT>/*</COMMENT>
<COMMENT> * Copyright 2010 Mark Watkinson</COMMENT>
<COMMENT> * </COMMENT>
<COMMENT> * This file is part of Luminous.</COMMENT>
<COMMENT> * </COMMENT>
<COMMENT> * Luminous is free software: you can redistribute it and/or</COMMENT>
<COMMENT> * modify</COMMENT>
<COMMENT> * it under the terms of the GNU General Public License as published by</COMMENT>
<COMMENT> * the Free Software Foundation, either version 3 of the License, or</COMMENT>
<COMMENT> * (at your option) any later version.</COMMENT>
<COMMENT> * </COMMENT>
<COMMENT> * Luminous is distributed in the hope that it will be useful,</COMMENT>
<COMMENT> * but WITHOUT ANY WARRANTY; without even the implied warranty of</COMMENT>
<COMMENT> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</COMMENT>
<COMMENT> * GNU General Public License for more details.</COMMENT>
<COMMENT> * </COMMENT>
<COMMENT> * You should have received a copy of the GNU General Public License</COMMENT>
<COMMENT> * along with Luminous.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</COMMENT>
<COMMENT> * </COMMENT>
<COMMENT> */</COMMENT>


 <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\file</DOCTAG><DOCPROPERTY> luminous.php</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Easy (non-OO, single line call) API for Luminous.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\author</DOCTAG> Mark Watkinson</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\defgroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY> LuminousEasyAPI</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\example</DOCTAG><DOCPROPERTY> example.php</DOCPROPERTY> Example calling and arrangement</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>

  
  <FUNCTION>require_once</FUNCTION>(<STRING>'core/luminous.class.php'</STRING>)<OPERATOR>;</OPERATOR>
  <FUNCTION>require_once</FUNCTION>(<STRING>'formatters/luminous_formatter.class.php'</STRING>)<OPERATOR>;</OPERATOR>  
  <FUNCTION>require_once</FUNCTION>(<STRING>'luminous_cache.class.php'</STRING>)<OPERATOR>;</OPERATOR>
  <FUNCTION>require_once</FUNCTION>(<STRING>'luminous_grammars.class.php'</STRING>)<OPERATOR>;</OPERATOR>
  <FUNCTION>require_once</FUNCTION>(<STRING>'luminous_grammar_callbacks.php'</STRING>)<OPERATOR>;</OPERATOR>
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Maximum age of a cached file before it expires (in seconds), or -1</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.20</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>   
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_MAX_AGE</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_MAX_AGE</VARIABLE> <OPERATOR>=</OPERATOR> <OPERATOR>-</OPERATOR><NUMERIC>1</NUMERIC><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Maximum lenth of time between cache purges (deletion of everything) in seconds, or -1</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.20</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_PURGE_TIME</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_PURGE_TIME</VARIABLE> <OPERATOR>=</OPERATOR> <OPERATOR>-</OPERATOR><NUMERIC>1</NUMERIC><OPERATOR>;</OPERATOR>
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Line wrap at x characters, set to -1 to disable wrapping</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.20</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_WRAP_WIDTH</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_WRAP_WIDTH</VARIABLE> <OPERATOR>=</OPERATOR> <OPERATOR>-</OPERATOR><NUMERIC>1</NUMERIC><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Enables or disables line numbering</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.20</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_LINE_NUMBERS</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_LINE_NUMBERS</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>true</KEYWORD><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> So-called 'verbosity' level control</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ref</DOCTAG> verbosity</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.25</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>   
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_HIGHLIGHTING_LEVEL</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_HIGHLIGHTING_LEVEL</VARIABLE> <OPERATOR>=</OPERATOR> <NUMERIC>4</NUMERIC><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/** </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Enables or disables URI linking by the formatter.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_LINK_URIS</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_LINK_URIS</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>true</KEYWORD><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * Information variable which logs whether the most recent Luminous call was</DOCCOMMENT>
<DOCCOMMENT>   * read from the cache or generated. </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_WAS_CACHED</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_WAS_CACHED</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>false</KEYWORD><OPERATOR>;</OPERATOR>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * The maximum height, in pixels, of the resulting widget. Use 0 or -1 to </DOCCOMMENT>
<DOCCOMMENT>   * unconstrain. The excess height will be scrollable.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>   
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_WIDGET_HEIGHT</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_WIDGET_HEIGHT</VARIABLE> <OPERATOR>=</OPERATOR> <NUMERIC>500</NUMERIC><OPERATOR>;</OPERATOR>
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Version number of Luminous</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>   
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_VERSION</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_VERSION</VARIABLE> <OPERATOR>=</OPERATOR> <STRING>'0.5.5'</STRING><OPERATOR>;</OPERATOR>
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Performance log</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Performance log. Each array element has the keys</DOCCOMMENT>
<DOCCOMMENT>   * time (float, s)</DOCCOMMENT>
<DOCCOMMENT>   * parse_time (float, s)</DOCCOMMENT>
<DOCCOMMENT>   * format_time (float, s)</DOCCOMMENT>
<DOCCOMMENT>   * cache_time (float, s) </DOCCOMMENT>
<DOCCOMMENT>   * cached (bool)</DOCCOMMENT>
<DOCCOMMENT>   * language (str)</DOCCOMMENT>
<DOCCOMMENT>   * input_size (int, bytes)</DOCCOMMENT>
<DOCCOMMENT>   * output_size (int, bytes)</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * The log is ordered chronologically starting from index 0 as the first </DOCCOMMENT>
<DOCCOMMENT>   * highlight on this page load.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>     
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_PERFORMANCE_LOG</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_PERFORMANCE_LOG</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>array</FUNCTION>()<OPERATOR>;</OPERATOR>
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Sets whether to escape Luminous input or whether it is pre-escaped.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Luminous operates on a string of text and uses some special characters </DOCCOMMENT>
<DOCCOMMENT>   * internally. The characters &amp;lt;, &amp;gt; and &amp;amp; are escaped to their HTML</DOCCOMMENT>
<DOCCOMMENT>   * entity codes (&amp;amp;lt; &amp;amp;gt; &amp;amp;amp;) by default. In some cases </DOCCOMMENT>
<DOCCOMMENT>   * you may be feeding &amp;Luminous code which is already escaped like this, in</DOCCOMMENT>
<DOCCOMMENT>   * which case you will want to set this flag to false so that Luminous doesn't</DOCCOMMENT>
<DOCCOMMENT>   * double-escape these characters.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_ESCAPE_INPUT</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_ESCAPE_INPUT</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>true</KEYWORD><OPERATOR>;</OPERATOR>
  
  

  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY>  0.5.4</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> The output format (as string). </DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Current recognised formats are 'html' and 'latex'.</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_OUTPUT_FORMAT</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_OUTPUT_FORMAT</VARIABLE> <OPERATOR>=</OPERATOR> <STRING>"html"</STRING><OPERATOR>;</OPERATOR>
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.5.4</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> The theme to use. </DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * The theme must exist as a (css) file in luminous/style/</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\warning</DOCTAG> This has no direct effect in HTML output, you can still include</DOCCOMMENT>
<DOCCOMMENT>   * whatever stylesheet you like and ignore this completely.</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_THEME</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$LUMINOUS_THEME</VARIABLE> <OPERATOR>=</OPERATOR> <STRING>'luminous_light'</STRING><OPERATOR>;</OPERATOR>
  
  
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY>  0.5.4</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> returns what %Luminous believes is its root directory on the filesystem.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * For various reasons internally, we need to know where %Luminous is located </DOCCOMMENT>
<DOCCOMMENT>   * on the filesystem.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * replaces $_LUMINOUS_ROOT, because that being writable represents something </DOCCOMMENT>
<DOCCOMMENT>   * of a security consideration</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_root</USER_FUNCTION>()
  {
    <KEYWORD>return</KEYWORD> <FUNCTION>realpath</FUNCTION>(<FUNCTION>dirname</FUNCTION>(<KEYWORD>__FILE__</KEYWORD>) <OPERATOR>.</OPERATOR> <STRING>'/../'</STRING>)<OPERATOR>;</OPERATOR>
  }
  
  
  <DOCCOMMENT>///<DOCTAG>\cond</DOCTAG><DOCPROPERTY> DEV</DOCPROPERTY></DOCCOMMENT>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Collects settings together into an array</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\internal</DOCTAG></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.30</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_create_settings</USER_FUNCTION>()
  {
    <VARIABLE>$settings</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>array</FUNCTION>(
      <STRING>'escape'</STRING><OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_ESCAPE_INPUT'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'linenos'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_LINE_NUMBERS'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'highlight_level'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_HIGHLIGHTING_LEVEL'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'linkify'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_LINK_URIS'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'height'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WIDGET_HEIGHT'</STRING>]<OPERATOR>,</OPERATOR>     
      <STRING>'version'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_VERSION'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'wrap'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WRAP_WIDTH'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'theme'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_THEME'</STRING>]<OPERATOR>,</OPERATOR>
      <STRING>'format'</STRING> <OPERATOR>=&gt;</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_OUTPUT_FORMAT'</STRING>]
      
    )<OPERATOR>;</OPERATOR>    
    <FUNCTION>ksort</FUNCTION>(<VARIABLE>$settings</VARIABLE>)<OPERATOR>;</OPERATOR>
    <KEYWORD>return</KEYWORD> <VARIABLE>$settings</VARIABLE><OPERATOR>;</OPERATOR>      
  }
  <DOCCOMMENT>///<DOCTAG>\endcond</DOCTAG></DOCCOMMENT>
  
  <DOCCOMMENT>///<DOCTAG>\cond</DOCTAG><DOCPROPERTY> DEV</DOCPROPERTY></DOCCOMMENT>
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\internal</DOCTAG></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY>  0.5.4</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> returns the output formatter currently specified in the LUMINOUS_OUTPUT_FORMAT variable</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\throw</DOCTAG><DOCPROPERTY> Exception</DOCPROPERTY> if an unknown formatter is specified</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\return</DOCTAG> A LuminousFormatter object.</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
   
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_get_formatter</USER_FUNCTION>()
  {
    <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_OUTPUT_FORMAT</VARIABLE><OPERATOR>;</OPERATOR>
    <VARIABLE>$fmt_path</VARIABLE> <OPERATOR>=</OPERATOR> <STRING>'formatters/'</STRING><OPERATOR>;</OPERATOR>
    <COMMENT>// this is a bit ugly but I don't see a compelling reason to change it to</COMMENT>
    <COMMENT>// a heavier solution like the one used with the gramamrs.</COMMENT>
    <KEYWORD>switch</KEYWORD>(<FUNCTION>strtolower</FUNCTION>(<VARIABLE>$LUMINOUS_OUTPUT_FORMAT</VARIABLE>))
    {
      <KEYWORD>case</KEYWORD> <STRING>'html'</STRING><OPERATOR>:</OPERATOR>
        <FUNCTION>require_once</FUNCTION>(<VARIABLE>$fmt_path</VARIABLE> <OPERATOR>.</OPERATOR> <STRING>'htmlformatter.class.php'</STRING>)<OPERATOR>;</OPERATOR>
        <KEYWORD>return</KEYWORD> <KEYWORD>new</KEYWORD> LuminousFormatterHTML()<OPERATOR>;</OPERATOR>
        
      <KEYWORD>case</KEYWORD> <STRING>'latex'</STRING><OPERATOR>:</OPERATOR>
        <FUNCTION>require_once</FUNCTION>(<VARIABLE>$fmt_path</VARIABLE> <OPERATOR>.</OPERATOR> <STRING>'latexformatter.class.php'</STRING>)<OPERATOR>;</OPERATOR>
        <KEYWORD>return</KEYWORD> <KEYWORD>new</KEYWORD> LuminousFormatterLatex()<OPERATOR>;</OPERATOR>
      
      <KEYWORD>default</KEYWORD><OPERATOR>:</OPERATOR>
        <KEYWORD>throw</KEYWORD> <KEYWORD>new</KEYWORD> <FUNCTION>Exception</FUNCTION>(<STRING>'Unknown formatter: '</STRING> <OPERATOR>.</OPERATOR> <VARIABLE>$LUMINOUS_OUTPUT_FORMAT</VARIABLE>)<OPERATOR>;</OPERATOR>
        <KEYWORD>return</KEYWORD> <KEYWORD>null</KEYWORD><OPERATOR>;</OPERATOR>
    }
  }
  
  <DOCCOMMENT>/// <DOCTAG>\endcond</DOCTAG></DOCCOMMENT>
  
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Simple call to luminous with language grammar</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> grammar</DOCPROPERTY> The grammar to use to parse the string, as LuminousGrammar</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> src</DOCPROPERTY> the source string to be formatted (string)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> use_cache</DOCPROPERTY> determines whether to use the caching system, </DOCCOMMENT>
<DOCCOMMENT>   *    default is true. (true|false)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\return</DOCTAG> an HTML formatted piece of text representing the input string</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\throw</DOCTAG><DOCPROPERTY> Exception</DOCPROPERTY> if luminous encounters a fatal error (a more descriptive</DOCCOMMENT>
<DOCCOMMENT>   *    string will be set as its message)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> Luminous</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> LuminousEasyAPI::$luminous_grammars</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_grammar</USER_FUNCTION>(LuminousGrammar <VARIABLE>$grammar</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$src</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$use_cache</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>true</KEYWORD>)
  {
    <KEYWORD>global</KEYWORD> <VARIABLE>$LUMINOUS_PERFORMANCE_LOG</VARIABLE><OPERATOR>;</OPERATOR>
    <VARIABLE>$start</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>array</FUNCTION>()<OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE>[<STRING>'language'</STRING>] <OPERATOR>=</OPERATOR> <VARIABLE>$grammar</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>info</OO>[<STRING>'language'</STRING>]<OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE>[<STRING>'input_size'</STRING>] <OPERATOR>=</OPERATOR> <FUNCTION>strlen</FUNCTION>(<VARIABLE>$src</VARIABLE>)<OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE>[<STRING>'cache_time'</STRING>] <OPERATOR>=</OPERATOR> <NUMERIC>0.0</NUMERIC><OPERATOR>;</OPERATOR>
    
    <VARIABLE>$o</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>false</KEYWORD><OPERATOR>;</OPERATOR>
    <VARIABLE>$cache</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>null</KEYWORD><OPERATOR>;</OPERATOR>
    
    
    <KEYWORD>if</KEYWORD> (<VARIABLE>$use_cache</VARIABLE>)
    {
      <VARIABLE>$c_t</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
      <COMMENT>// the cache's unique ID needs to be an alagamation of the input source,</COMMENT>
      <COMMENT>// grammar, and highlighting settings.</COMMENT>
      <VARIABLE>$md5</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>md5</FUNCTION>(<VARIABLE>$src</VARIABLE>)<OPERATOR>;</OPERATOR>      
      <VARIABLE>$id</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>md5</FUNCTION>(<VARIABLE>$md5</VARIABLE> <OPERATOR>.</OPERATOR> <FUNCTION>serialize</FUNCTION>(<VARIABLE>$grammar</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>info</OO>))<OPERATOR>;</OPERATOR>
      <VARIABLE>$id</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>md5</FUNCTION>(<VARIABLE>$id</VARIABLE> <OPERATOR>.</OPERATOR> <FUNCTION>serialize</FUNCTION>(<FUNCTION>luminous_create_settings</FUNCTION>()))<OPERATOR>;</OPERATOR>
      <VARIABLE>$cache</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>new</KEYWORD> LuminousCache(<VARIABLE>$id</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$md5</VARIABLE>)<OPERATOR>;</OPERATOR>
      <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>version</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_VERSION'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>cache_max_age</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_MAX_AGE'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>purge_time</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_PURGE_TIME'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>Purge</OO>()<OPERATOR>;</OPERATOR>
      <VARIABLE>$o</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>ReadCache</OO>()<OPERATOR>;</OPERATOR>
      <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WAS_CACHED'</STRING>] <OPERATOR>=</OPERATOR> <KEYWORD>true</KEYWORD><OPERATOR>;</OPERATOR>
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'cached'</STRING>] <OPERATOR>=</OPERATOR> <KEYWORD>true</KEYWORD><OPERATOR>;</OPERATOR>
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'parse_time'</STRING>] <OPERATOR>=</OPERATOR> <NUMERIC>0.0</NUMERIC><OPERATOR>;</OPERATOR>
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'format_time'</STRING>] <OPERATOR>=</OPERATOR> <NUMERIC>0.0</NUMERIC><OPERATOR>;</OPERATOR>
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'cache_time'</STRING>] <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>) <OPERATOR>-</OPERATOR> <VARIABLE>$c_t</VARIABLE><OPERATOR>;</OPERATOR>
    }
    
    <KEYWORD>if</KEYWORD> (<VARIABLE>$o</VARIABLE> <OPERATOR>===</OPERATOR> <KEYWORD>false</KEYWORD>)
    {
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'cached'</STRING>] <OPERATOR>=</OPERATOR> <KEYWORD>false</KEYWORD><OPERATOR>;</OPERATOR>
      
      <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WAS_CACHED'</STRING>] <OPERATOR>=</OPERATOR> <KEYWORD>false</KEYWORD><OPERATOR>;</OPERATOR>
      <VARIABLE>$p_start</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
      <VARIABLE>$l</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>new</KEYWORD> Luminous()<OPERATOR>;</OPERATOR>    
      <VARIABLE>$l</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>verbosity</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_HIGHLIGHTING_LEVEL'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$l</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>pre_escaped</OO> <OPERATOR>=</OPERATOR> <OPERATOR>!</OPERATOR><VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_ESCAPE_INPUT'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$l</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>separate_lines</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_LINE_NUMBERS'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$o</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$l</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>Easy_Parse</OO>(<VARIABLE>$src</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$grammar</VARIABLE>)<OPERATOR>;</OPERATOR>  
      <VARIABLE>$p_end</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
      <VARIABLE>$f_start</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
      
      <VARIABLE>$f</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>luminous_get_formatter</FUNCTION>()<OPERATOR>;</OPERATOR>
<COMMENT>//       $f = new LuminousFormatterHTML(); </COMMENT>
      <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>SetTheme</OO>(<FUNCTION>luminous_get_theme</FUNCTION>())<OPERATOR>;</OPERATOR>
      <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>wrap_length</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WRAP_WIDTH'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>line_numbers</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_LINE_NUMBERS'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>link</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_LINK_URIS'</STRING>]<OPERATOR>;</OPERATOR>
      <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>height</OO> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_WIDGET_HEIGHT'</STRING>]<OPERATOR>;</OPERATOR>
      
      <COMMENT>// this really shouldn't be here.</COMMENT>
      <KEYWORD>if</KEYWORD> (<VARIABLE>$grammar</VARIABLE> <KEYWORD>instanceof</KEYWORD> LuminousGrammarWhitespace)
        <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>tab_width</OO> <OPERATOR>=</OPERATOR> <OPERATOR>-</OPERATOR><NUMERIC>1</NUMERIC><OPERATOR>;</OPERATOR>
      <VARIABLE>$o</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$f</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>Format</OO>(<VARIABLE>$o</VARIABLE>)<OPERATOR>;</OPERATOR>
      <VARIABLE>$f_end</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
      
      <KEYWORD>if</KEYWORD> (<VARIABLE>$use_cache</VARIABLE>)
        <VARIABLE>$cache</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>WriteCache</OO>(<VARIABLE>$o</VARIABLE>)<OPERATOR>;</OPERATOR>
      
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'format_time'</STRING>] <OPERATOR>=</OPERATOR> <VARIABLE>$f_end</VARIABLE> <OPERATOR>-</OPERATOR> <VARIABLE>$f_start</VARIABLE><OPERATOR>;</OPERATOR>
      <VARIABLE>$perf_log</VARIABLE>[<STRING>'parse_time'</STRING>] <OPERATOR>=</OPERATOR> <VARIABLE>$p_end</VARIABLE> <OPERATOR>-</OPERATOR> <VARIABLE>$p_start</VARIABLE><OPERATOR>;</OPERATOR>
    }
    <VARIABLE>$end</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>microtime</FUNCTION>(<KEYWORD>true</KEYWORD>)<OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE>[<STRING>'time'</STRING>] <OPERATOR>=</OPERATOR> <VARIABLE>$end</VARIABLE><OPERATOR>-</OPERATOR><VARIABLE>$start</VARIABLE><OPERATOR>;</OPERATOR>
    <VARIABLE>$perf_log</VARIABLE>[<STRING>'output_size'</STRING>] <OPERATOR>=</OPERATOR> <FUNCTION>strlen</FUNCTION>(<VARIABLE>$o</VARIABLE>)<OPERATOR>;</OPERATOR>
    <VARIABLE>$LUMINOUS_PERFORMANCE_LOG</VARIABLE>[] <OPERATOR>=</OPERATOR> <VARIABLE>$perf_log</VARIABLE><OPERATOR>;</OPERATOR>
    
    <KEYWORD>return</KEYWORD> <VARIABLE>$o</VARIABLE><OPERATOR>;</OPERATOR>
    
  }
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Simple call to luminous with language code</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> language</DOCPROPERTY> The language code (which shall be looked up in </DOCCOMMENT>
<DOCCOMMENT>   *    luminous_grammars. If no corresponding grammar is found, its default </DOCCOMMENT>
<DOCCOMMENT>   *    will be used. In the event that no default is specified luminous, will </DOCCOMMENT>
<DOCCOMMENT>   *    raise an Exception. </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> src</DOCPROPERTY> the source string to be formatted (string)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> use_cache</DOCPROPERTY> determines whether to use the caching system, </DOCCOMMENT>
<DOCCOMMENT>   *    default is true. (true|false)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\return</DOCTAG> a piece of text representing the input string, formatted according</DOCCOMMENT>
<DOCCOMMENT>   *    to the format specified in LuminousEasyAPI::$LUMINOUS_OUTPUT_FORMAT</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\throw</DOCTAG><DOCPROPERTY> Exception</DOCPROPERTY> if luminous encounters a fatal error (a more descriptive</DOCCOMMENT>
<DOCCOMMENT>   *    string will be set as its message)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> Luminous</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> LuminousEasyAPI::$luminous_grammars</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous</USER_FUNCTION>(<VARIABLE>$language</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$src</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$use_cache</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>true</KEYWORD>)
  {
    <KEYWORD>global</KEYWORD> <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>;</OPERATOR>
    <VARIABLE>$grammar</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>GetGrammar</OO>(<VARIABLE>$language</VARIABLE>)<OPERATOR>;</OPERATOR>
    <KEYWORD>return</KEYWORD> <FUNCTION>luminous_grammar</FUNCTION>(<VARIABLE>$grammar</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$src</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$use_cache</VARIABLE>)<OPERATOR>;</OPERATOR>
  }
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Simple call to Luminous with a file path to use as src.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> language</DOCPROPERTY> The language code (which shall be looked up in </DOCCOMMENT>
<DOCCOMMENT>   *    luminous_grammars. If no corresponding grammar is found, its default </DOCCOMMENT>
<DOCCOMMENT>   *    will be used. In the event that no default is specified luminous, will </DOCCOMMENT>
<DOCCOMMENT>   *    raise an Exception.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> path</DOCPROPERTY> The path to the source file which shall be read by Luminous.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> use_cache</DOCPROPERTY> determines whether to use the caching system, </DOCCOMMENT>
<DOCCOMMENT>   *    default is true. (true|false)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\return</DOCTAG> an HTML formatted piece of text representing the input string</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\throw</DOCTAG><DOCPROPERTY> Exception</DOCPROPERTY> if luminous encounters a fatal error (a more descriptive</DOCCOMMENT>
<DOCCOMMENT>   *    string will be set as its message)</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> Luminous</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\see</DOCTAG><DOCPROPERTY> LuminousEasyAPI::$luminous_grammars</DOCPROPERTY> </DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_file</USER_FUNCTION>(<VARIABLE>$language</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$path</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$use_cache</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>true</KEYWORD>)
  {
    <VARIABLE>$src</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>file_get_contents</FUNCTION>(<VARIABLE>$path</VARIABLE>)<OPERATOR>;</OPERATOR>
    <KEYWORD>return</KEYWORD> <FUNCTION>luminous</FUNCTION>(<VARIABLE>$language</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$src</VARIABLE><OPERATOR>,</OPERATOR> <VARIABLE>$use_cache</VARIABLE>)<OPERATOR>;</OPERATOR> 
  }
  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Prints a table of known languages and their codes to output</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * This is a convenience function the user can call to determine which </DOCCOMMENT>
<DOCCOMMENT>   * languages are supported, and how they can access them.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Similar to phpinfo()</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_supported_languages</USER_FUNCTION>()
  {
    <KEYWORD>global</KEYWORD> <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>;</OPERATOR>
    <VARIABLE>$list</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>ListGrammars</OO>()<OPERATOR>;</OPERATOR>
    <FUNCTION>ksort</FUNCTION>(<VARIABLE>$list</VARIABLE>)<OPERATOR>;</OPERATOR>
    <FUNCTION>echo</FUNCTION> <STRING>'&lt;h1&gt;Luminous Supported Languages&lt;/h1&gt;'</STRING><OPERATOR>;</OPERATOR>
    <FUNCTION>echo</FUNCTION> <STRING>'&lt;table style="margin-left:auto;margin-right:auto; "&gt;</STRING>
<STRING>      &lt;tr style="font-weight:bold"&gt;&lt;td&gt;&lt;/td&gt;</STRING>
<STRING>      &lt;td&gt;Language&lt;/td&gt;&lt;td&gt;Valid Codes&lt;/td&gt;&lt;/tr&gt;'</STRING><OPERATOR>;</OPERATOR>
    <VARIABLE>$count</VARIABLE> <OPERATOR>=</OPERATOR> <NUMERIC>0</NUMERIC><OPERATOR>;</OPERATOR>
    <KEYWORD>foreach</KEYWORD>(<VARIABLE>$list</VARIABLE> <KEYWORD>as</KEYWORD> <VARIABLE>$k</VARIABLE><OPERATOR>=&gt;</OPERATOR><VARIABLE>$l</VARIABLE>)
    {
      <VARIABLE>$count</VARIABLE><OPERATOR>++;</OPERATOR>
      <FUNCTION>sort</FUNCTION>(<VARIABLE>$l</VARIABLE>)<OPERATOR>;</OPERATOR>
      <FUNCTION>echo</FUNCTION> <STRING>"&lt;tr&gt;&lt;td&gt; <VARIABLE>$count</VARIABLE> &lt;/td&gt;&lt;td&gt;<VARIABLE>$k</VARIABLE>&lt;/td&gt;&lt;td&gt;"</STRING> <OPERATOR>.</OPERATOR> <FUNCTION>join</FUNCTION>(<VARIABLE>$l</VARIABLE><OPERATOR>,</OPERATOR> <STRING>", "</STRING>) 
        <OPERATOR>.</OPERATOR> <STRING>"&lt;/td&gt;&lt;/tr&gt;"</STRING><OPERATOR>;</OPERATOR>
    }
    <FUNCTION>echo</FUNCTION> <STRING>"&lt;/table&gt;"</STRING><OPERATOR>;</OPERATOR>
  }

  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * Returns a list of themes present in the $ROOT/style/ directory.</DOCCOMMENT>
<DOCCOMMENT>   * The names will simply be the filename, not including the parent directory</DOCCOMMENT>
<DOCCOMMENT>   * structure.</DOCCOMMENT>
<DOCCOMMENT>   *</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\return</DOCTAG> the list, as array</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT> 
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_get_themes</USER_FUNCTION>()
  {
    <VARIABLE>$themes_uri</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/style/"</STRING><OPERATOR>;</OPERATOR>
    <VARIABLE>$themes</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>array</FUNCTION>()<OPERATOR>;</OPERATOR>
    <KEYWORD>foreach</KEYWORD>(<FUNCTION>glob</FUNCTION>(<VARIABLE>$themes_uri</VARIABLE> <OPERATOR>.</OPERATOR> <STRING>"/*.css"</STRING>) <KEYWORD>as</KEYWORD> <VARIABLE>$css</VARIABLE>)
    {
      <VARIABLE>$fn</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>trim</FUNCTION>(<FUNCTION>preg_replace</FUNCTION>(<STRING>"%.*/%"</STRING><OPERATOR>,</OPERATOR> <STRING>''</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$css</VARIABLE>))<OPERATOR>;</OPERATOR>
      <KEYWORD>switch</KEYWORD>(<VARIABLE>$fn</VARIABLE>)
      {
      <KEYWORD>case</KEYWORD> <STRING>'luminous.css'</STRING><OPERATOR>:</OPERATOR>
      <KEYWORD>case</KEYWORD> <STRING>'luminous_print.css'</STRING><OPERATOR>:</OPERATOR>
      <KEYWORD>case</KEYWORD> <STRING>'luminous.min.css'</STRING><OPERATOR>:</OPERATOR>
        <KEYWORD>continue</KEYWORD><OPERATOR>;</OPERATOR>
      <KEYWORD>default</KEYWORD><OPERATOR>:</OPERATOR>
        <VARIABLE>$themes</VARIABLE>[] <OPERATOR>=</OPERATOR> <VARIABLE>$fn</VARIABLE><OPERATOR>;</OPERATOR>        
      }

    }
    <KEYWORD>return</KEYWORD> <VARIABLE>$themes</VARIABLE><OPERATOR>;</OPERATOR>
  }
  
  
  <DOCCOMMENT>///<DOCTAG>\cond</DOCTAG><DOCPROPERTY> DEV</DOCPROPERTY></DOCCOMMENT>
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * returns the theme file as a string.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * If you need to access the raw contents of a theme, this method is </DOCCOMMENT>
<DOCCOMMENT>   * preferred as it includes security checks against reading arbitrary files</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\todo</DOCTAG> this probably shouldn't be here, since it's internal.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\internal</DOCTAG></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_get_theme</USER_FUNCTION>(<VARIABLE>$theme</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>null</KEYWORD>)
  {
    <KEYWORD>if</KEYWORD> (<VARIABLE>$theme</VARIABLE> <OPERATOR>===</OPERATOR> <KEYWORD>null</KEYWORD>)
      <VARIABLE>$theme</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_THEME'</STRING>]<OPERATOR>;</OPERATOR>
    <KEYWORD>if</KEYWORD> (<OPERATOR>!</OPERATOR><FUNCTION>preg_match</FUNCTION>(<STRING>'/<ESC>\.</ESC>css$/i'</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$theme</VARIABLE>))
      <VARIABLE>$theme</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>'.css'</STRING><OPERATOR>;</OPERATOR>
    
    <KEYWORD>if</KEYWORD> (<OPERATOR>!</OPERATOR><FUNCTION>preg_match</FUNCTION>(<STRING>'/^[a-zA-Z0-9_<ESC>\-</ESC>]+(<ESC>\.</ESC>css)$/i'</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$theme</VARIABLE>))
    {
      <KEYWORD>throw</KEYWORD> <KEYWORD>new</KEYWORD> <FUNCTION>Exception</FUNCTION>(<STRING>"Invalid theme filename: "</STRING> <OPERATOR>.</OPERATOR> <FUNCTION>htmlentities</FUNCTION>(<VARIABLE>$theme</VARIABLE>))<OPERATOR>;</OPERATOR>
      <KEYWORD>return</KEYWORD> <KEYWORD>null</KEYWORD><OPERATOR>;</OPERATOR>
    }
    
    <VARIABLE>$path</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>'/style/'</STRING> <OPERATOR>.</OPERATOR> <VARIABLE>$theme</VARIABLE><OPERATOR>;</OPERATOR>
    
    <KEYWORD>if</KEYWORD> (<OPERATOR>!</OPERATOR><FUNCTION>file_exists</FUNCTION>(<VARIABLE>$path</VARIABLE>))
    {
      <KEYWORD>throw</KEYWORD> <KEYWORD>new</KEYWORD> <FUNCTION>Exception</FUNCTION>(<STRING>"No such theme file: "</STRING> <OPERATOR>.</OPERATOR> <FUNCTION>htmlentities</FUNCTION>(<VARIABLE>$path</VARIABLE>))<OPERATOR>;</OPERATOR>
      <KEYWORD>return</KEYWORD><OPERATOR>;</OPERATOR>
    }
    <KEYWORD>return</KEYWORD> <FUNCTION>file_get_contents</FUNCTION>(<VARIABLE>$path</VARIABLE>)<OPERATOR>;</OPERATOR>
  }
  <DOCCOMMENT>///<DOCTAG>\endcond</DOCTAG></DOCCOMMENT>
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Returns a string representing everything that needs to be printed in </DOCCOMMENT>
<DOCCOMMENT>   * the \&lt;head\&gt; section of a website.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> $theme</DOCPROPERTY> (str) the theme to use. The theme file should exist</DOCCOMMENT>
<DOCCOMMENT>   *    as a file of the same name in luminous/style/. If you leave this as </DOCCOMMENT>
<DOCCOMMENT>   *    <DOCTAG>\c</DOCTAG> NULL, the theme in LuminousEasyAPI::$LUMINOUS_THEME will be used</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> $javascript</DOCPROPERTY> (boolean) whether or not to use JavaScript</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> $jquery</DOCPROPERTY> (boolean) whether or not to include jQuery: jQuery is required for </DOCCOMMENT>
<DOCCOMMENT>   *    javascript to work, but you may include it yourself (if you need a different</DOCCOMMENT>
<DOCCOMMENT>   *    version). If so, it must be included before this function's output is </DOCCOMMENT>
<DOCCOMMENT>   *    echoed.</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\param</DOCTAG><DOCPROPERTY> relative_root</DOCPROPERTY> Optionally, you may specify the path to luminous/</DOCCOMMENT>
<DOCCOMMENT>   *    relative to the document root (remember to include the leading slash).</DOCCOMMENT>
<DOCCOMMENT>   *    If you don't specify this, Luminous attempts to work it out. See</DOCCOMMENT>
<DOCCOMMENT>   *    warning.</DOCCOMMENT>
<DOCCOMMENT>   *    </DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\warning</DOCTAG> due to shortcomings in PHP, it's not really possible to figure</DOCCOMMENT>
<DOCCOMMENT>   * out the include path if there are symbolic links involved In this case, you</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\b</DOCTAG> must specify relative_root.</DOCCOMMENT>
<DOCCOMMENT>   * http://bugs.php.net/46260</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\since</DOCTAG><DOCPROPERTY> 0.5.0</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  
  <KEYWORD>function</KEYWORD> <USER_FUNCTION>luminous_get_html_head</USER_FUNCTION>(<VARIABLE>$theme</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>null</KEYWORD><OPERATOR>,</OPERATOR> <VARIABLE>$javascript</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>true</KEYWORD><OPERATOR>,</OPERATOR>
    <VARIABLE>$jquery</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>true</KEYWORD><OPERATOR>,</OPERATOR> <VARIABLE>$relative_root</VARIABLE><OPERATOR>=</OPERATOR><KEYWORD>null</KEYWORD>)
  {

    <KEYWORD>if</KEYWORD> (<VARIABLE>$relative_root</VARIABLE> <OPERATOR>===</OPERATOR> <KEYWORD>null</KEYWORD>)
    {
      <VARIABLE>$relative_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>str_replace</FUNCTION>(<VARIABLE>$_SERVER</VARIABLE>[<STRING>'DOCUMENT_ROOT'</STRING>]<OPERATOR>,</OPERATOR> <STRING>'/'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>dirname</FUNCTION>(<KEYWORD>__FILE__</KEYWORD>))<OPERATOR>;</OPERATOR>
      <VARIABLE>$relative_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>str_replace</FUNCTION>(<STRING>'<ESC>\\</ESC>'</STRING><OPERATOR>,</OPERATOR> <STRING>'/'</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$relative_root</VARIABLE>)<OPERATOR>;</OPERATOR> <COMMENT>// bah windows</COMMENT>
      <VARIABLE>$relative_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>rtrim</FUNCTION>(<VARIABLE>$relative_root</VARIABLE><OPERATOR>,</OPERATOR> <STRING>'/'</STRING>)<OPERATOR>;</OPERATOR>
      <COMMENT>// go up one level.</COMMENT>
      <VARIABLE>$relative_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>preg_replace</FUNCTION>(<STRING>'%/[^/]*$%'</STRING><OPERATOR>,</OPERATOR> <STRING>''</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$relative_root</VARIABLE>)<OPERATOR>;</OPERATOR>
    }
    <VARIABLE>$relative_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>preg_replace</FUNCTION>(<STRING>'%(?:^(?!/))|(?://+)|(?:(?&lt;!/)$)%'</STRING><OPERATOR>,</OPERATOR> <STRING>'/'</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$relative_root</VARIABLE>)<OPERATOR>;</OPERATOR>
    
    <KEYWORD>if</KEYWORD> (<VARIABLE>$theme</VARIABLE> <OPERATOR>===</OPERATOR> <KEYWORD>null</KEYWORD> <OPERATOR>||</OPERATOR> <VARIABLE>$theme</VARIABLE> <OPERATOR>===</OPERATOR> <STRING>''</STRING> <OPERATOR>||</OPERATOR> <VARIABLE>$theme</VARIABLE> <OPERATOR>===</OPERATOR> <KEYWORD>false</KEYWORD>)
      <VARIABLE>$theme</VARIABLE> <OPERATOR>=</OPERATOR> <VARIABLE>$GLOBALS</VARIABLE>[<STRING>'LUMINOUS_THEME'</STRING>]<OPERATOR>;</OPERATOR>
    
    <VARIABLE>$theme</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>urlencode</FUNCTION>(<FUNCTION>trim</FUNCTION>(<VARIABLE>$theme</VARIABLE>))<OPERATOR>;</OPERATOR>
    <KEYWORD>if</KEYWORD> (<OPERATOR>!</OPERATOR><FUNCTION>preg_match</FUNCTION>(<STRING>'%<ESC>\.</ESC>css$%i'</STRING><OPERATOR>,</OPERATOR> <VARIABLE>$theme</VARIABLE>))
      <VARIABLE>$theme</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>'.css'</STRING><OPERATOR>;</OPERATOR>

    <VARIABLE>$abs_root</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>luminous_root</FUNCTION>()<OPERATOR>;</OPERATOR>
    <VARIABLE>$lcss</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>file_exists</FUNCTION>(<STRING>"<VARIABLE>$abs_root</VARIABLE>/style/luminous.min.css"</STRING>)<OPERATOR>?</OPERATOR> 
      <STRING>"luminous.min.css"</STRING> <OPERATOR>:</OPERATOR> <STRING>"luminous.css"</STRING><OPERATOR>;</OPERATOR>

    <VARIABLE>$out</VARIABLE> <OPERATOR>=</OPERATOR> <STRING>""</STRING><OPERATOR>;</OPERATOR>
    <VARIABLE>$out</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>"&lt;link rel='stylesheet' type='text/css' href='<VARIABLE>$relative_root</VARIABLE>/style/<VARIABLE>$lcss</VARIABLE>'&gt;<ESC>\n</ESC>"</STRING><OPERATOR>;</OPERATOR>
    <VARIABLE>$out</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>"&lt;link rel='stylesheet' type='text/css' href='<VARIABLE>$relative_root</VARIABLE>/style/<VARIABLE>$theme</VARIABLE>'&gt;<ESC>\n</ESC>"</STRING><OPERATOR>;</OPERATOR>
    <KEYWORD>if</KEYWORD> (<VARIABLE>$javascript</VARIABLE>)
    {
      <KEYWORD>if</KEYWORD>(<VARIABLE>$jquery</VARIABLE>)
        <VARIABLE>$out</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>"&lt;script type='text/javascript' src='<VARIABLE>$relative_root</VARIABLE>/client/jquery-1.4.2.min.js'&gt;&lt;/script&gt;<ESC>\n</ESC>"</STRING><OPERATOR>;</OPERATOR>
      <VARIABLE>$ljs</VARIABLE> <OPERATOR>=</OPERATOR> <FUNCTION>file_exists</FUNCTION>(<STRING>"<VARIABLE>$abs_root</VARIABLE>/client/luminous.min.js"</STRING>)<OPERATOR>?</OPERATOR> <STRING>"luminous.min.js"</STRING>
        <OPERATOR>:</OPERATOR> <STRING>"luminous.js"</STRING><OPERATOR>;</OPERATOR>
      <VARIABLE>$out</VARIABLE> <OPERATOR>.=</OPERATOR> <STRING>"&lt;script type='text/javascript' src='<VARIABLE>$relative_root</VARIABLE>/client/<VARIABLE>$ljs</VARIABLE>'&gt;&lt;/script&gt;<ESC>\n</ESC>"</STRING><OPERATOR>;</OPERATOR>
    }
    <KEYWORD>return</KEYWORD> <VARIABLE>$out</VARIABLE><OPERATOR>;</OPERATOR>
  }
  
  
  
  
  

  
  
  <DOCCOMMENT>/**</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\ingroup</DOCTAG><DOCPROPERTY> LuminousEasyAPI</DOCPROPERTY></DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\brief</DOCTAG> Lookup table for language codes to grammars.</DOCCOMMENT>
<DOCCOMMENT>   * </DOCCOMMENT>
<DOCCOMMENT>   * Global variable holding a LuminousGrammars language to grammar lookup </DOCCOMMENT>
<DOCCOMMENT>   * table .This is used in any call to the easy API where a language code is </DOCCOMMENT>
<DOCCOMMENT>   * specified. Add your own grammars to this using its AddGrammar method.</DOCCOMMENT>
<DOCCOMMENT>   * Anything stored in here is accessible by luminous()</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\sa</DOCTAG> LuminousGrammars</DOCCOMMENT>
<DOCCOMMENT>   * <DOCTAG>\sa</DOCTAG> LuminousGrammars::AddGrammar</DOCCOMMENT>
<DOCCOMMENT>   */</DOCCOMMENT>
  <KEYWORD>global</KEYWORD> <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>;</OPERATOR>
  <VARIABLE>$luminous_grammars</VARIABLE> <OPERATOR>=</OPERATOR> <KEYWORD>new</KEYWORD> LuminousGrammars()<OPERATOR>;</OPERATOR>
  
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'as'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarActionscript'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'ActionScript'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/actionscript.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'bnf'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarBNF'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'Backus Naur Form'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/bnf.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'c'</STRING><OPERATOR>,</OPERATOR> <STRING>'cpp'</STRING><OPERATOR>,</OPERATOR> <STRING>'h'</STRING><OPERATOR>,</OPERATOR> <STRING>'hpp'</STRING><OPERATOR>,</OPERATOR> <STRING>'hxx'</STRING><OPERATOR>,</OPERATOR> <STRING>'cxx'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarCpp'</STRING><OPERATOR>,</OPERATOR> <STRING>'C/C++'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/cpp_stateful.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'changelog'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarChangelog'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'Changelog'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/changelog.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>"cs"</STRING><OPERATOR>,</OPERATOR> <STRING>"csharp"</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarCSharp'</STRING><OPERATOR>,</OPERATOR> <STRING>'C#'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/csharp.php"</STRING>)<OPERATOR>;</OPERATOR>    
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"css"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarCSS'</STRING><OPERATOR>,</OPERATOR> 
  <STRING>'CSS'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/css.php"</STRING>)<OPERATOR>;</OPERATOR>
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"diff"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarDiff'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'Diff'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/diff.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'erl'</STRING><OPERATOR>,</OPERATOR> <STRING>'erlang'</STRING>)<OPERATOR>,</OPERATOR>
    <STRING>'LuminousGrammarErlang'</STRING><OPERATOR>,</OPERATOR> <STRING>'Erlang'</STRING><OPERATOR>,</OPERATOR> 
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/erlang.php"</STRING>)<OPERATOR>;</OPERATOR> 
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'groovy'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarGroovy'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'Groovy'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/groovy.php"</STRING><OPERATOR>,</OPERATOR> <STRING>'java'</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'haskell'</STRING><OPERATOR>,</OPERATOR> <STRING>'hs'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarHaskell'</STRING><OPERATOR>,</OPERATOR> <STRING>'Haskell'</STRING><OPERATOR>,</OPERATOR> 
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/haskell.php"</STRING>)<OPERATOR>;</OPERATOR>  
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"html"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarJavaScriptEmbedded'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'HTML'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/javascript.php"</STRING><OPERATOR>,</OPERATOR> <FUNCTION>array</FUNCTION>(<STRING>'xml'</STRING><OPERATOR>,</OPERATOR> <STRING>'css'</STRING>))<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'go'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarGo'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'Go'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/go.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"java"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarJava'</STRING><OPERATOR>,</OPERATOR>
  <STRING>'Java'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/java.php"</STRING>)<OPERATOR>;</OPERATOR>  
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"js"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarJavaScript'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'JavaScript'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/javascript.php"</STRING>)<OPERATOR>;</OPERATOR>  
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'latex'</STRING><OPERATOR>,</OPERATOR> <STRING>'tex'</STRING>)<OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarLatex'</STRING><OPERATOR>,</OPERATOR>         
  <STRING>'LaTeX'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/latex.php"</STRING>)<OPERATOR>;</OPERATOR>   
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'lolcode'</STRING><OPERATOR>,</OPERATOR> <STRING>'lol'</STRING>)<OPERATOR>,</OPERATOR>
    <STRING>'LuminousGrammarLolcode'</STRING><OPERATOR>,</OPERATOR> <STRING>'LOLCODE'</STRING><OPERATOR>,</OPERATOR>
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/lolcode.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'make'</STRING><OPERATOR>,</OPERATOR> <STRING>'makefile'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarMakefile'</STRING><OPERATOR>,</OPERATOR> <STRING>'Make'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/make.php"</STRING><OPERATOR>,</OPERATOR>
    <STRING>'bash'</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'matlab'</STRING><OPERATOR>,</OPERATOR> <STRING>'m'</STRING>)<OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarMATLAB'</STRING><OPERATOR>,</OPERATOR>
  <STRING>'MATLAB'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/matlab.php"</STRING>)<OPERATOR>;</OPERATOR>  
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'mxml'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarActionscriptEmbedded'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'XML + ActionScript'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/actionscript_xml.php"</STRING><OPERATOR>,</OPERATOR>
    <FUNCTION>array</FUNCTION>(<STRING>'as'</STRING><OPERATOR>,</OPERATOR> <STRING>'html'</STRING>)
  )<OPERATOR>;</OPERATOR>
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'pas'</STRING><OPERATOR>,</OPERATOR> <STRING>'pascal'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarPascal'</STRING><OPERATOR>,</OPERATOR> <STRING>'Pascal/Delphi'</STRING><OPERATOR>,</OPERATOR> 
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/pascal.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"php"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarPHP'</STRING><OPERATOR>,</OPERATOR> <STRING>'PHP'</STRING><OPERATOR>,</OPERATOR>
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/php.php"</STRING><OPERATOR>,</OPERATOR> <STRING>'html'</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'pl'</STRING><OPERATOR>,</OPERATOR> <STRING>'perl'</STRING>)<OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarPerl'</STRING><OPERATOR>,</OPERATOR>
  <STRING>'Perl'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/perl.php"</STRING>)<OPERATOR>;</OPERATOR>
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'plain'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'LuminousGrammarPlain'</STRING><OPERATOR>,</OPERATOR> <STRING>'Plain text'</STRING><OPERATOR>,</OPERATOR> 
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/plain.php"</STRING>)<OPERATOR>;</OPERATOR>
  
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>"py"</STRING><OPERATOR>,</OPERATOR> <STRING>'python'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarPython'</STRING><OPERATOR>,</OPERATOR> <STRING>'Python'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/python.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'rails'</STRING><OPERATOR>,</OPERATOR> <STRING>'rhtml'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarRubyHTML'</STRING><OPERATOR>,</OPERATOR> <STRING>'Ruby On Rails'</STRING><OPERATOR>,</OPERATOR>
    <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/ruby_xml.php"</STRING><OPERATOR>,</OPERATOR> <FUNCTION>array</FUNCTION>(<STRING>'ruby'</STRING><OPERATOR>,</OPERATOR> <STRING>'html'</STRING>))<OPERATOR>;</OPERATOR>  
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'ruby'</STRING><OPERATOR>,</OPERATOR> <STRING>'rb'</STRING>)<OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarRuby'</STRING><OPERATOR>,</OPERATOR>
    <STRING>'Ruby'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/ruby.php"</STRING>)<OPERATOR>;</OPERATOR>
    

  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'scala'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarScala'</STRING><OPERATOR>,</OPERATOR> <STRING>'Scala'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/scala.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'shell'</STRING><OPERATOR>,</OPERATOR> <STRING>'sh'</STRING><OPERATOR>,</OPERATOR> <STRING>'bash'</STRING>)<OPERATOR>,</OPERATOR> 
    <STRING>'LuminousGrammarBash'</STRING><OPERATOR>,</OPERATOR> <STRING>'Bash'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/bash.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"sql"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarSQL'</STRING><OPERATOR>,</OPERATOR> <STRING>'SQL'</STRING><OPERATOR>,</OPERATOR>
  <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/sql.php"</STRING>)<OPERATOR>;</OPERATOR>
  

  
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'vim'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarVim'</STRING><OPERATOR>,</OPERATOR>
  <STRING>'Vim script'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/vim.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"vb"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarVisualBasic'</STRING><OPERATOR>,</OPERATOR> 
  <STRING>'Visual Basic'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/vb.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<FUNCTION>array</FUNCTION>(<STRING>'ws'</STRING><OPERATOR>,</OPERATOR> <STRING>'whitespace'</STRING>)<OPERATOR>,</OPERATOR> 
  <STRING>'LuminousGrammarWhitespace'</STRING><OPERATOR>,</OPERATOR> <STRING>'Whitespace'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/whitespace.php"</STRING>)<OPERATOR>;</OPERATOR>
    
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>"xml"</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarHTML'</STRING><OPERATOR>,</OPERATOR> <STRING>'XML'</STRING><OPERATOR>,</OPERATOR>
  <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/xml.php"</STRING>)<OPERATOR>;</OPERATOR>  
  
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>AddGrammar</OO>(<STRING>'generic'</STRING><OPERATOR>,</OPERATOR> <STRING>'LuminousGrammarGeneric'</STRING><OPERATOR>,</OPERATOR> 
    <STRING>'Generic C-like language'</STRING><OPERATOR>,</OPERATOR> <FUNCTION>luminous_root</FUNCTION>() <OPERATOR>.</OPERATOR> <STRING>"/languages/generic.php"</STRING>)<OPERATOR>;</OPERATOR>
  
  <VARIABLE>$luminous_grammars</VARIABLE><OPERATOR>-&gt;</OPERATOR><OO>SetDefaultGrammar</OO>(<STRING>'plain'</STRING>)<OPERATOR>;</OPERATOR>
  
  
